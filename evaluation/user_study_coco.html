<link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" integrity="sha384-IS73LIqjtYesmURkDE9MXKbXqYA8rvKEp/ghicjem7Vc3mGRdQRptJSz60tvrB6+" rel="stylesheet" />
<meta content="width=device-width,initial-scale=1" name="viewport" />
<section class="container" id="TaggingOfAnImage">
<div class="row">
<div class="col-xs-12 col-md-12"><!-- Instructions -->
<div class="panel panel-primary"><!-- WARNING: the ids "collapseTrigger" and "instructionBody" are being used to enable expand/collapse feature --><a class="panel-heading" href="javascript:void(0);" id="collapseTrigger"><strong>A/B test Instructions</strong> <span class="collapse-text">(Click to expand)</span> </a>
<div class="panel-body" id="instructionBody">
<p>Which image matches the caption better.</p>
</div>
</div>
</div>
</div>
<!-- End Instructions -->

<!-- Image Tagging Layout -->
<div class="row" id="workContent"><!-- Page 0 -->
<div class="container text-center" id="splashScreen">
<div class="jumbotron">
<div class="row row-thin gray col-xs-16">
<div class="col-xs-12">
<h4><font face="comic sans ms, cursive">The goal of this study is to evaluate several text-to-image generation approaches. </font></h4>

<h4><font face="comic sans ms, cursive">In each page, you will be presented two generated images together with a text description. Please choose the image which you think is most relevant to the given text. </font></h4>

<h4><font face="comic sans ms, cursive">Please note that, all these approaches are not perfect. In fact, in many cases, both images may look terrible. Please try your best to pick the image which matches the caption better. </font></h4>

<h4><font face="comic sans ms, cursive">In total, there are 10 pairs of images. Example text and images are shown below.</font></h4>

<p><font face="comic sans ms, cursive">â€‹</font></p>

<p><span style="font-family:comic sans ms,cursive;"><span style="color: inherit;">Text: Three zebras in a field near bushes.</span></span></p>
</div>
<!-- example images -->

<div class="col-xs-12">
  <img alt="foo.png" class="img-responsive img-embeded" src="http://www.cs.virginia.edu/~ft3ex/data/user_study_coco/intro/example.png" />
</div>
<!-- start -->
<!-- <div class="btn" id="startStudy">Start</div> -->
<div class="col-xs-12">
    <p>&nbsp;</p>
    <div class="col-xs-16">
    <h4><span style="font-family:comic sans ms,cursive;">If you&#39;re ready, please press the start button to get started.</span></h4>
    </div>
</div>
    
<div class="container text-center col-xs-12">
<div class="btn btn-default" id="startStudy">Start</div>
</div>

</div>
</div>
</div>
<!-- class="jumbotron" --></div>
<!-- splashScreen -->
<!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 -->


<div class="container hidden" id="studyContent">

<!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 --><!-- Page 0 -->
<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
<!-- text_00 -->
<div class="col-xs-12 hidden text-center" id="gtxt_00">  
    <h4>${text_00}</h4>
</div>
<!-- image_pair_00 -->
<div class="col-xs-12 hidden" id="gimg_00">
    <div class="col-xs-6">
      <img alt="image_url_00_0" class="img-thumbnail img-check" src="${image_url_00_0}" />
      <label class="radio-inline">
        <input autocomplete="off" id="option_A_00" name="result_00" required="" type="radio" value="A" />Option A 
      </label>
    </div>
    <div class="col-xs-6">
      <img alt="image_url_00_1" class="img-thumbnail img-check" src="${image_url_00_1}" /> 
      <label class="radio-inline">
        <input autocomplete="off" id="option_B_00" name="result_00" required="" type="radio" value="B" />Option B
      </label>
    </div>
</div>

<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
<!-- text_01 -->
<div class="col-xs-12 hidden text-center" id="gtxt_01">  
    <h4>${text_01}</h4>
</div>

<!-- image_pair_01 -->
<div class="col-xs-12 hidden" id="gimg_01">
    <div class="col-xs-6">
        <img alt="image_url_01_0" class="img-thumbnail img-check" src="${image_url_01_0}" />
        <label class="radio-inline">
          <input autocomplete="off" id="option_A_01" name="result_01" required="" type="radio" value="A" />Option A 
        </label> 
    </div>
    <div class="col-xs-6">
        <img alt="image_url_01_1" class="img-thumbnail img-check" src="${image_url_01_1}" /> 
        <label class="radio-inline">
          <input autocomplete="off" id="option_B_01" name="result_01" required="" type="radio" value="B" />Option B
        </label>
    </div>
</div>
<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
<!-- text_02 -->
<div class="col-xs-12 hidden text-center" id="gtxt_02">  
    <h4>${text_02}</h4>
</div>
  
<!-- image_pair_02 -->
<div class="col-xs-12 hidden" id="gimg_02">
    <div class="col-xs-6">
        <img alt="image_url_02_0" class="img-thumbnail img-check" src="${image_url_02_0}" />
        <label class="radio-inline">
          <input autocomplete="off" id="option_A_02" name="result_02" required="" type="radio" value="A" />Option A 
        </label> 
    </div>
    <div class="col-xs-6">
        <img alt="image_url_02_1" class="img-thumbnail img-check" src="${image_url_02_1}" />
        <label class="radio-inline">
          <input autocomplete="off" id="option_B_02" name="result_02" required="" type="radio" value="B" />Option B
        </label> 
    </div>
</div>
<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->

<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
<!-- text_03 -->
<div class="col-xs-12 hidden text-center" id="gtxt_03">  
    <h4>${text_03}</h4>
</div>
    
<!-- image_pair_03 -->
<div class="col-xs-12 hidden" id="gimg_03">
    <div class="col-xs-6">
        <img alt="image_url_03_0" class="img-thumbnail img-check" src="${image_url_03_0}" />
        <label class="radio-inline">
          <input autocomplete="off" id="option_A_03" name="result_03" required="" type="radio" value="A" />Option A 
        </label> 
    </div>
    <div class="col-xs-6">
        <img alt="image_url_03_1" class="img-thumbnail img-check" src="${image_url_03_1}" /> 
        <label class="radio-inline">
          <input autocomplete="off" id="option_B_03" name="result_03" required="" type="radio" value="B" />Option B
        </label>
    </div>
</div>
<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->

<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
<!-- text_04 -->
<div class="col-xs-12 hidden text-center" id="gtxt_04">  
    <h4>${text_04}</h4>
</div>
      
<!-- image_pair_04 -->
<div class="col-xs-12 hidden" id="gimg_04">
    <div class="col-xs-6">
        <img alt="image_url_04_0" class="img-thumbnail img-check" src="${image_url_04_0}" />
        <label class="radio-inline">
          <input autocomplete="off" id="option_A_04" name="result_04" required="" type="radio" value="A" />Option A 
        </label> 
    </div>
    <div class="col-xs-6">
        <img alt="image_url_04_1" class="img-thumbnail img-check" src="${image_url_04_1}" /> 
        <label class="radio-inline">
          <input autocomplete="off" id="option_B_04" name="result_04" required="" type="radio" value="B" />Option B
        </label>
    </div>
</div>
<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->


<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
<!-- text_05 -->
<div class="col-xs-12 hidden text-center" id="gtxt_05">  
    <h4>${text_05}</h4>
</div>
      
<!-- image_pair_05 -->
<div class="col-xs-12 hidden" id="gimg_05">
    <div class="col-xs-6">
        <img alt="image_url_05_0" class="img-thumbnail img-check" src="${image_url_05_0}" />
        <label class="radio-inline">
          <input autocomplete="off" id="option_A_05" name="result_05" required="" type="radio" value="A" />Option A 
        </label> 
    </div>
    <div class="col-xs-6">
        <img alt="image_url_05_1" class="img-thumbnail img-check" src="${image_url_05_1}" /> 
        <label class="radio-inline">
          <input autocomplete="off" id="option_B_05" name="result_05" required="" type="radio" value="B" />Option B
        </label>
    </div>
</div>
<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->

<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
<!-- text_06 -->
<div class="col-xs-12 hidden text-center" id="gtxt_06">  
    <h4>${text_06}</h4>
</div>
      
<!-- image_pair_06 -->
<div class="col-xs-12 hidden" id="gimg_06">
    <div class="col-xs-6">
        <img alt="image_url_06_0" class="img-thumbnail img-check" src="${image_url_06_0}" />
        <label class="radio-inline">
          <input autocomplete="off" id="option_A_06" name="result_06" required="" type="radio" value="A" />Option A 
        </label>
    </div>
    <div class="col-xs-6">
        <img alt="image_url_06_1" class="img-thumbnail img-check" src="${image_url_06_1}" /> 
        <label class="radio-inline">
          <input autocomplete="off" id="option_B_06" name="result_06" required="" type="radio" value="B" />Option B
        </label> 
    </div>
</div>
<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->


<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
<!-- text_07 -->
<div class="col-xs-12 hidden text-center" id="gtxt_07">  
    <h4>${text_07}</h4>
</div>
      
<!-- image_pair_07 -->
<div class="col-xs-12 hidden" id="gimg_07">
    <div class="col-xs-6">
        <img alt="image_url_07_0" class="img-thumbnail img-check" src="${image_url_07_0}" />
        <label class="radio-inline">
          <input autocomplete="off" id="option_A_07" name="result_07" required="" type="radio" value="A" />Option A 
        </label>
    </div>
    <div class="col-xs-6">
        <img alt="image_url_07_1" class="img-thumbnail img-check" src="${image_url_07_1}" /> 
        <label class="radio-inline">
          <input autocomplete="off" id="option_B_07" name="result_07" required="" type="radio" value="B" />Option B
        </label> 
    </div>
</div>
<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->

<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
<!-- text_08 -->
<div class="col-xs-12 hidden text-center" id="gtxt_08">  
    <h4>${text_08}</h4>
</div>
      
<!-- image_pair_08 -->
<div class="col-xs-12 hidden" id="gimg_08">
    <div class="col-xs-6">
        <img alt="image_url_08_0" class="img-thumbnail img-check" src="${image_url_08_0}" />
        <label class="radio-inline">
          <input autocomplete="off" id="option_A_08" name="result_08" required="" type="radio" value="A" />Option A 
        </label>
    </div>
    <div class="col-xs-6">
        <img alt="image_url_08_1" class="img-thumbnail img-check" src="${image_url_08_1}" />  
        <label class="radio-inline">
          <input autocomplete="off" id="option_B_08" name="result_08" required="" type="radio" value="B" />Option B
        </label> 
    </div>
</div>
<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->

<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->
<!-- text_09 -->
<div class="col-xs-12 hidden text-center" id="gtxt_09">  
    <h4>${text_09}</h4>
</div>
      
<!-- image_pair_09 -->
<div class="col-xs-12 hidden" id="gimg_09">
    <div class="col-xs-6">
        <img alt="image_url_09_0" class="img-thumbnail img-check" src="${image_url_09_0}" />
        <label class="radio-inline">
          <input autocomplete="off" id="option_A_09" name="result_09" required="" type="radio" value="A" />Option A 
        </label> 
    </div>
    <div class="col-xs-6">
        <img alt="image_url_09_1" class="img-thumbnail img-check" src="${image_url_09_1}" />  
        <label class="radio-inline">
          <input autocomplete="off" id="option_B_09" name="result_09" required="" type="radio" value="B" />Option B
        </label> 
    </div>
</div>
<!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!---->

<div class="col-xs-12 text-center">
<div class="btn btn-default" id="dying" name="mygod">Next</div>
</div>
<!-- nextButton -->

<div class="container text-center" id="warning">You may have to finish all <strong>10</strong> pairs of images before you can submit.</div>
</div>
<!-- studyContent --></div>
<!-- workContent --></section>


<!-- End Image Tagging Layout -->
<!-- Open internal style sheet -->
<style type="text/css">#collapseTrigger{
  color:#fff;
  display: block;
  text-decoration: none;
}
#submitButton{
  white-space: normal;
}
.image{
  margin-bottom: 15px;
}
.radio:first-of-type{
  margin-top: -5px;
}
</style>
<!-- Close internal style sheet --><!-- Please note that Bootstrap CSS/JS and JQuery are 3rd party libraries that may update their url/code at any time. Amazon Mechanical Turk (MTurk) is including these libraries as a default option for you, but is not responsible for any changes to the external libraries --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js" integrity="sha384-s1ITto93iSMDxlp/79qhWHi+LsIi9Gx6yL+cOKDuymvihkfol83TYbLbOw+W/wv4" crossorigin="anonymous"></script><script>
  $(document).ready(function() {
    // Instructions expand/collapse
    var content = $('#instructionBody');
    var trigger = $('#collapseTrigger');
    content.hide();
    $('.collapse-text').text('(Click to expand)');
    trigger.click(function(){
      content.toggle();
      var isVisible = content.is(':visible');
      if(isVisible){
        $('.collapse-text').text('(Click to collapse)');
      }else{
        $('.collapse-text').text('(Click to expand)');
      }
    });
    // end expand/collapse
    var count = 0;
    var numGroups = 10;


    $("#startStudy").click(function() {
      $("#splashScreen").addClass("hidden");
      $("#studyContent").removeClass("hidden");
      $("#gimg_00").removeClass("hidden");
      $("#gtxt_00").removeClass("hidden");
    });

    $("#dying").click(function() {
      if (checkiffinish(count)) {
        if (count >= numGroups - 1) {
          // $('#submitButton').click();
          // print_options();
          var warning = document.getElementById("warning");
          warning.innerHTML = "You have finished all images. Thank you very much for helping with the study. Please go ahead to submit.";
        } else {
          cur_img_group = getImageGroupName(count);
          $(cur_img_group).addClass("hidden");
          cur_txt_group = getTextGroupName(count);
          $(cur_txt_group).addClass("hidden");
          
          nxt_img_group = getImageGroupName(count+1);
          $(nxt_img_group).removeClass("hidden");
          nxt_txt_group = getTextGroupName(count+1);
          $(nxt_txt_group).removeClass("hidden");
          count++;
        
          var warning = document.getElementById("warning");
          warning.innerHTML = "You have finished " + count + "/10 pairs. You have to finish all pairs of images before you can submit.";
        }
      } else {
        var warning = document.getElementById("warning");
        warning.innerHTML = "Oops, it seems you left the options unchecked.";
      }
    });    
        
    function getImageGroupName(cnt) {
      var group_name;
      if (cnt < 10) { group_name = "#gimg_0" + cnt;}
      else { group_name = "#gimg_" + cnt;}
      return group_name;
    }
    
    function getTextGroupName(cnt) {
      var group_name;
      if (cnt < 10) {group_name = "#gtxt_0" + cnt;}
      else { group_name = "#gtxt_" + cnt;}
      return group_name;
    }
        

    function getRadioName(prefix, pid) {
      var option_name;
      if (pid < 10) { option_name = prefix + '_0' + pid;} 
      else { option_name = prefix + '_' + pid; }
      return option_name;
    } 
        
    function checkiffinish(cnt) {
      A_res = getRadioName("#option_A", cnt);
      B_res = getRadioName("#option_B", cnt);
      var select_cur = $(A_res).is(':checked') || $(B_res).is(':checked');
      return select_cur;
    }
        
    function print_options() {
      var warning = document.getElementById("warning");
      warning.innerHTML = "Results: ";
      
      for (var cnt = 0; cnt < numGroups; ++cnt) {
        res = getRadioName("result", cnt);
        foo = 'input[name=' + res + ']:checked'
        var selValue = $(foo).val(); 
        warning.innerHTML = warning.innerHTML + res + selValue + ";"
      } 
    }
  });
</script>
